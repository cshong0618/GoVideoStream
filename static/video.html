<html>
    <head>
        <link rel="shortcut icon" href="#" />
        <style>
            ::cue {
                text-shadow: -2px 0 black, 0 2px black, 2px 0 black, 0 -2px black;
                background: rgba(0, 0, 0, 0);
                color: white;
                position: fixed;
                font-size: 1.1em;
                -webkit-font-smoothing: antialiased;
            }
        </style>
    </head>
    <body>
        <div class="container valign-wrapper">
            <video controls autoplay width="1366" height="768px">
                <source src="{{ .Filename }}">
            </video>
        </div>

        <script>
            var video = document.querySelector("video");
            var subtitles = document.querySelector("track");

            document.onkeyup = (ev) => {
                console.log(ev);

                switch(ev.key) {
                    case 'f': {
                        if(document.webkitIsFullScreen) {
                            document.webkitExitFullscreen();
                        } else {
                            video.webkitRequestFullScreen();
                        }
                        break;
                    }
                    case ' ': {
                        if(video.paused) {
                            video.play();
                        } else {
                            video.pause();
                        }
                        break;
                    }
                    case 'm': {
                        video.muted = !video.muted;
                        break;
                    }
                    case 'c': {
                        video.controls = !video.controls;
                        break;
                    }
                    case 'v': {
                        if(subtitles.track.mode === "hidden") {
                            subtitles.track.mode = "showing";
                        } else {
                            subtitles.track.mode = "hidden";
                        }
                        break;
                    }
                }
            }

            document.onkeydown = (ev) => {
                switch(ev.key) {
                    case 'ArrowRight': {
                        video.currentTime += 5;
                        break;
                    }
                    case 'ArrowLeft': {
                        video.currentTime -= 5;
                        break;
                    }
                    case 'ArrowUp': {
                        try {
                            video.volume += 0.1;
                        } catch {}
                        break;
                    }
                    case 'ArrowDown': {
                        try {
                            video.volume -= 0.1;
                        } catch {}
                        break;
                    }
                }
            }
        </script>
    </body>
</html>